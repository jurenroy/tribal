<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>My Electron App</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <form id="my-form">
      <label for="id-number">ID Number:</label>
      <input type="text" id="id-number" name="id-number"><br>

      <label for="name">Name:</label>
      <input type="text" id="name" name="name"><br>

      <label for="datu-name">Datu Name(*optional):</label>
      <input type="text" id="datu-name" name="datu-name"><br>

      <label for="mobile-number">Mobile Number:</label>
      <input type="text" id="mobile-number" name="mobile-number"><br>

      <label for="address">Address:</label>
      <input type="text" id="address" name="address"><br>

      <label for="contact-person">Contact Person:</label>
      <input type="text" id="contact-person" name="contact-person"><br>

      <label for="contact-number">Contact Number:</label>
      <input type="text" id="contact-number" name="contact-number"><br>

      <label for="image-file">Upload Picture:</label>
      <input type="file" id="image-file" name="image-file" accept="image/jpeg, image/png, image/gif"><br>

      <button type="submit" value="Submit" id="submit-button">Submit</button>
    </form>

    <script>
      const myForm = document.getElementById('my-form');
      myForm.addEventListener('submit', function(event) {
        event.preventDefault();
        const formData = new FormData(myForm);

        // Get the values of the form inputs and encode them for the URL
        const idNumber = encodeURIComponent(formData.get('id-number'));
        const name = encodeURIComponent(formData.get('name'));
        const datuName = encodeURIComponent(formData.get('datu-name'));
        const mobileNumber = encodeURIComponent(formData.get('mobile-number'));
        const address = encodeURIComponent(formData.get('address'));
        const contactPerson = encodeURIComponent(formData.get('contact-person'));
        const contactNumber = encodeURIComponent(formData.get('contact-number'));
        
        // Get the image file from the input element
        const imageFile = document.getElementById('image-file').files[0];
        const reader = new FileReader();

        // When the image is loaded, encode it as a data URL and add it to the URL string
        reader.onload = function(event) {
          const imageUrl = encodeURIComponent(event.target.result);
          const url = `second.html?id-number=${idNumber}&name=${name}&datu-name=${datuName}&mobile-number=${mobileNumber}&address=${address}&contact-person=${contactPerson}&contact-number=${contactNumber}&image-file=${imageUrl}`;
          window.location.href = url;
        };

        // Read the image file as a data URL
        reader.readAsDataURL(imageFile);
      });
    </script>
  </body>
</html>
